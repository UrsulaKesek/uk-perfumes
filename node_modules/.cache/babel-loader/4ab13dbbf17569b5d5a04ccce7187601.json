{"ast":null,"code":"var _jsxFileName = \"/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/src/store/index.jsx\";\nimport React, { useState } from \"react\";\nimport \"./Store.css\";\nimport Nav from \"./components/Nav\";\nimport StoreContent from \"./StoreContent\";\n\nconst Store = () => {\n  const [activeTab, setActiveTab] = useState(\"shop\");\n  const [cart, setCart] = useState([]);\n  const [count, setCount] = useState([0]);\n\n  function addToCart(item) {\n    setCart(oldCart => [...oldCart, item]);\n  }\n\n  const totalCart = cart => {\n    const totalItems = cart.reduce((summary, item) => {\n      summary[item.id] = summary[item.id] || { ...item,\n        count: 0\n      };\n      summary[item.id].count++;\n      return summary;\n    }, {});\n    return Object.values(totalItems);\n  };\n\n  const removeItem = item => {\n    let index = cart.findIndex(i => i.id === item.id);\n\n    if (index >= 0) {\n      setCart(cart => {\n        const cartCopy = [...cart];\n        cartCopy.splice(index, 1);\n        return cartCopy;\n      });\n    }\n  };\n\n  const onTakeOff = item => {\n    const cartCopy = [...cart];\n    cartCopy.splice(item);\n    return cartCopy;\n  };\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"storepage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    activeTab: activeTab,\n    onTabChange: setActiveTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StoreContent, {\n    tab: activeTab,\n    onAddToCart: addToCart,\n    onRemoveItem: removeItem,\n    onTakeOff: onTakeOff,\n    cart: totalCart(cart),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Store;","map":{"version":3,"sources":["/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/src/store/index.jsx"],"names":["React","useState","Nav","StoreContent","Store","activeTab","setActiveTab","cart","setCart","count","setCount","addToCart","item","oldCart","totalCart","totalItems","reduce","summary","id","Object","values","removeItem","index","findIndex","i","cartCopy","splice","onTakeOff"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,aAAP;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,MAAD,CAA1C;AAEA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,CAAC,CAAD,CAAD,CAAlC;;AAEA,WAASU,SAAT,CAAmBC,IAAnB,EAAyB;AACvBJ,IAAAA,OAAO,CAAEK,OAAD,IAAa,CAAC,GAAGA,OAAJ,EAAaD,IAAb,CAAd,CAAP;AACD;;AAED,QAAME,SAAS,GAAIP,IAAD,IAAU;AAC1B,UAAMQ,UAAU,GAAGR,IAAI,CAACS,MAAL,CAAY,CAACC,OAAD,EAAUL,IAAV,KAAmB;AAChDK,MAAAA,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,GAAmBD,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,IAAoB,EACrC,GAAGN,IADkC;AAErCH,QAAAA,KAAK,EAAE;AAF8B,OAAvC;AAIAQ,MAAAA,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,CAAiBT,KAAjB;AACA,aAAOQ,OAAP;AACD,KAPkB,EAOhB,EAPgB,CAAnB;AAQA,WAAOE,MAAM,CAACC,MAAP,CAAcL,UAAd,CAAP;AACD,GAVD;;AAYA,QAAMM,UAAU,GAAIT,IAAD,IAAU;AAC3B,QAAIU,KAAK,GAAGf,IAAI,CAACgB,SAAL,CAAgBC,CAAD,IAAOA,CAAC,CAACN,EAAF,KAASN,IAAI,CAACM,EAApC,CAAZ;;AACA,QAAII,KAAK,IAAI,CAAb,EAAgB;AACdd,MAAAA,OAAO,CAAED,IAAD,IAAU;AAChB,cAAMkB,QAAQ,GAAG,CAAC,GAAGlB,IAAJ,CAAjB;AACAkB,QAAAA,QAAQ,CAACC,MAAT,CAAgBJ,KAAhB,EAAuB,CAAvB;AACA,eAAOG,QAAP;AACD,OAJM,CAAP;AAKD;AACF,GATD;;AAWA,QAAME,SAAS,GAAIf,IAAD,IAAU;AAC1B,UAAMa,QAAQ,GAAG,CAAC,GAAGlB,IAAJ,CAAjB;AACAkB,IAAAA,QAAQ,CAACC,MAAT,CAAgBd,IAAhB;AACA,WAAOa,QAAP;AACD,GAJD;;AAMA,sBACE;AAAS,IAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAEpB,SAAhB;AAA2B,IAAA,WAAW,EAAEC,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,GAAG,EAAED,SADP;AAEE,IAAA,WAAW,EAAEM,SAFf;AAGE,IAAA,YAAY,EAAEU,UAHhB;AAIE,IAAA,SAAS,EAAEM,SAJb;AAKE,IAAA,IAAI,EAAEb,SAAS,CAACP,IAAD,CALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF;AAcD,CArDD;;AAuDA,eAAeH,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport \"./Store.css\";\nimport Nav from \"./components/Nav\";\nimport StoreContent from \"./StoreContent\";\n\nconst Store = () => {\n  const [activeTab, setActiveTab] = useState(\"shop\");\n\n  const [cart, setCart] = useState([]);\n  const [count, setCount] = useState([0]);\n\n  function addToCart(item) {\n    setCart((oldCart) => [...oldCart, item]);\n  }\n\n  const totalCart = (cart) => {\n    const totalItems = cart.reduce((summary, item) => {\n      summary[item.id] = summary[item.id] || {\n        ...item,\n        count: 0,\n      };\n      summary[item.id].count++;\n      return summary;\n    }, {});\n    return Object.values(totalItems);\n  };\n\n  const removeItem = (item) => {\n    let index = cart.findIndex((i) => i.id === item.id);\n    if (index >= 0) {\n      setCart((cart) => {\n        const cartCopy = [...cart];\n        cartCopy.splice(index, 1);\n        return cartCopy;\n      });\n    }\n  };\n\n  const onTakeOff = (item) => {\n    const cartCopy = [...cart];\n    cartCopy.splice(item);\n    return cartCopy;\n  };\n\n  return (\n    <section className=\"storepage\">\n      <Nav activeTab={activeTab} onTabChange={setActiveTab} />\n      <main className=\"content\">\n        <StoreContent\n          tab={activeTab}\n          onAddToCart={addToCart}\n          onRemoveItem={removeItem}\n          onTakeOff={onTakeOff}\n          cart={totalCart(cart)}\n        />\n      </main>\n    </section>\n  );\n};\n\nexport default Store;\n"]},"metadata":{},"sourceType":"module"}