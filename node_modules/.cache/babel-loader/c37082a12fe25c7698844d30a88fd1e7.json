{"ast":null,"code":"import _objectSpread from\"/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import\"./Store.css\";import Nav from\"./components/Nav\";import StoreContent from\"./StoreContent\";var Store=function Store(){var _useState=useState(\"shop\"),_useState2=_slicedToArray(_useState,2),activeTab=_useState2[0],setActiveTab=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),cart=_useState4[0],setCart=_useState4[1];function addToCart(item){setCart(function(oldCart){return[].concat(_toConsumableArray(oldCart),[item]);});}var totalCart=function totalCart(cart){var totalItems=cart.reduce(function(summary,item){summary[item.id]=summary[item.id]||_objectSpread({},item,{count:0});summary[item.id].count++;return summary;},{});return Object.values(totalItems);};var removeItem=function removeItem(item){var index=cart.findIndex(function(i){return i.id===item.id;});if(index>=0){setCart(function(cart){var cartCopy=_toConsumableArray(cart);cartCopy.splice(index,1);return cartCopy;});}};var onTakeOff=function onTakeOff(item){var index=cart.findIndex(function(i){return i.id===item.id;});if(index>=0){setCart(function(cart){var cartCopy=_toConsumableArray(cart);cartCopy.splice(index,item.count);return cartCopy;});}};return/*#__PURE__*/React.createElement(\"section\",{className:\"storepage\"},/*#__PURE__*/React.createElement(Nav,{activeTab:activeTab,onTabChange:setActiveTab}),/*#__PURE__*/React.createElement(\"main\",{className:\"content\"},/*#__PURE__*/React.createElement(StoreContent,{tab:activeTab,onAddToCart:addToCart,onRemoveItem:removeItem,cart:totalCart(cart),onTakeOff:onTakeOff})));};export default Store;","map":{"version":3,"sources":["/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/src/store/index.jsx"],"names":["React","useState","Nav","StoreContent","Store","activeTab","setActiveTab","cart","setCart","addToCart","item","oldCart","totalCart","totalItems","reduce","summary","id","count","Object","values","removeItem","index","findIndex","i","cartCopy","splice","onTakeOff"],"mappings":"qdAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,aAAP,CACA,MAAOC,CAAAA,GAAP,KAAgB,kBAAhB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,eACgBH,QAAQ,CAAC,MAAD,CADxB,wCACXI,SADW,eACAC,YADA,8BAGML,QAAQ,CAAC,EAAD,CAHd,yCAGXM,IAHW,eAGLC,OAHK,eAKlB,QAASC,CAAAA,SAAT,CAAmBC,IAAnB,CAAyB,CACvBF,OAAO,CAAC,SAACG,OAAD,qCAAiBA,OAAjB,GAA0BD,IAA1B,IAAD,CAAP,CACD,CAED,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACL,IAAD,CAAU,CAC1B,GAAMM,CAAAA,UAAU,CAAGN,IAAI,CAACO,MAAL,CAAY,SAACC,OAAD,CAAUL,IAAV,CAAmB,CAChDK,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,CAAmBD,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,mBACdN,IADc,EAEjBO,KAAK,CAAE,CAFU,EAAnB,CAIAF,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,CAAiBC,KAAjB,GACA,MAAOF,CAAAA,OAAP,CACD,CAPkB,CAOhB,EAPgB,CAAnB,CAQA,MAAOG,CAAAA,MAAM,CAACC,MAAP,CAAcN,UAAd,CAAP,CACD,CAVD,CAYA,GAAMO,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACV,IAAD,CAAU,CAC3B,GAAIW,CAAAA,KAAK,CAAGd,IAAI,CAACe,SAAL,CAAe,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACP,EAAF,GAASN,IAAI,CAACM,EAArB,EAAf,CAAZ,CACA,GAAIK,KAAK,EAAI,CAAb,CAAgB,CACdb,OAAO,CAAC,SAACD,IAAD,CAAU,CAChB,GAAMiB,CAAAA,QAAQ,oBAAOjB,IAAP,CAAd,CACAiB,QAAQ,CAACC,MAAT,CAAgBJ,KAAhB,CAAuB,CAAvB,EACA,MAAOG,CAAAA,QAAP,CACD,CAJM,CAAP,CAKD,CACF,CATD,CAWA,GAAME,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAChB,IAAD,CAAU,CAC1B,GAAIW,CAAAA,KAAK,CAAGd,IAAI,CAACe,SAAL,CAAe,SAACC,CAAD,QAAOA,CAAAA,CAAC,CAACP,EAAF,GAASN,IAAI,CAACM,EAArB,EAAf,CAAZ,CACA,GAAIK,KAAK,EAAI,CAAb,CAAgB,CACdb,OAAO,CAAC,SAACD,IAAD,CAAU,CAChB,GAAMiB,CAAAA,QAAQ,oBAAOjB,IAAP,CAAd,CACAiB,QAAQ,CAACC,MAAT,CAAgBJ,KAAhB,CAAuBX,IAAI,CAACO,KAA5B,EACA,MAAOO,CAAAA,QAAP,CACD,CAJM,CAAP,CAKD,CACF,CATD,CAWA,mBACE,+BAAS,SAAS,CAAC,WAAnB,eACE,oBAAC,GAAD,EAAK,SAAS,CAAEnB,SAAhB,CAA2B,WAAW,CAAEC,YAAxC,EADF,cAEE,4BAAM,SAAS,CAAC,SAAhB,eACE,oBAAC,YAAD,EACE,GAAG,CAAED,SADP,CAEE,WAAW,CAAEI,SAFf,CAGE,YAAY,CAAEW,UAHhB,CAIE,IAAI,CAAER,SAAS,CAACL,IAAD,CAJjB,CAKE,SAAS,CAAEmB,SALb,EADF,CAFF,CADF,CAcD,CAzDD,CA2DA,cAAetB,CAAAA,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport \"./Store.css\";\nimport Nav from \"./components/Nav\";\nimport StoreContent from \"./StoreContent\";\n\nconst Store = () => {\n  const [activeTab, setActiveTab] = useState(\"shop\");\n\n  const [cart, setCart] = useState([]);\n\n  function addToCart(item) {\n    setCart((oldCart) => [...oldCart, item]);\n  }\n\n  const totalCart = (cart) => {\n    const totalItems = cart.reduce((summary, item) => {\n      summary[item.id] = summary[item.id] || {\n        ...item,\n        count: 0,\n      };\n      summary[item.id].count++;\n      return summary;\n    }, {});\n    return Object.values(totalItems);\n  };\n\n  const removeItem = (item) => {\n    let index = cart.findIndex((i) => i.id === item.id);\n    if (index >= 0) {\n      setCart((cart) => {\n        const cartCopy = [...cart];\n        cartCopy.splice(index, 1);\n        return cartCopy;\n      });\n    }\n  };\n\n  const onTakeOff = (item) => {\n    let index = cart.findIndex((i) => i.id === item.id);\n    if (index >= 0) {\n      setCart((cart) => {\n        const cartCopy = [...cart];\n        cartCopy.splice(index, item.count);\n        return cartCopy;\n      });\n    }\n  };\n\n  return (\n    <section className=\"storepage\">\n      <Nav activeTab={activeTab} onTabChange={setActiveTab} />\n      <main className=\"content\">\n        <StoreContent\n          tab={activeTab}\n          onAddToCart={addToCart}\n          onRemoveItem={removeItem}\n          cart={totalCart(cart)}\n          onTakeOff={onTakeOff}\n        />\n      </main>\n    </section>\n  );\n};\n\nexport default Store;\n"]},"metadata":{},"sourceType":"module"}