{"ast":null,"code":"var _jsxFileName = \"/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/src/store/index.jsx\";\nimport React, { useState } from \"react\";\nimport \"./Store.css\";\nimport Nav from \"./components/Nav\";\nimport StoreContent from \"./StoreContent\";\n\nconst Store = () => {\n  const [activeTab, setActiveTab] = useState(\"shop\");\n  const [count, setCount] = useState([]);\n  const [cart, setCart] = useState([]);\n\n  function addToCart(item) {\n    setCart(oldCart => [...oldCart, item]);\n  }\n\n  const totalCart = cart => {\n    const totalItems = cart.reduce((summary, item) => {\n      summary[item.id] = summary[item.id] || { ...item,\n        count: 0\n      };\n      summary[item.id].count++;\n      return summary;\n    }, {});\n    return Object.values(totalItems);\n  };\n  /*const removeItem = (item) => {\n    let index = cart.findIndex((i) => i.id === item.id);\n    if (index >= 0) {\n      setCart((cart) => {\n        const cartCopy = [...cart];\n        cartCopy.splice(index, 1);\n        return cartCopy;\n      });\n    }\n  };*/\n\n\n  const removeItem = () => {\n    setCount(count - 1);\n    setCart(cart);\n  };\n\n  const onTakeOff = item => {\n    let goods = item.count;\n\n    if (goods >= 0) {\n      setCart(cart => {\n        const cartCopy = [...cart];\n        cartCopy.splice(item.count);\n        return cartCopy;\n      });\n    }\n  };\n  /*const onTakeOff = (item) => {\n    let goods = item.count;\n    if (goods >= 0) {\n      setCart((cart) => {\n        const cartCopy = [...cart];\n        cartCopy.splice(item.count);\n        return cartCopy;\n      });\n    }\n  };*/\n\n\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"storepage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    activeTab: activeTab,\n    onTabChange: setActiveTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"main\", {\n    className: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StoreContent, {\n    tab: activeTab,\n    onAddToCart: addToCart,\n    onRemoveItem: removeItem,\n    cart: totalCart(cart),\n    onTakeOff: onTakeOff,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default Store;","map":{"version":3,"sources":["/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/src/store/index.jsx"],"names":["React","useState","Nav","StoreContent","Store","activeTab","setActiveTab","count","setCount","cart","setCart","addToCart","item","oldCart","totalCart","totalItems","reduce","summary","id","Object","values","removeItem","onTakeOff","goods","cartCopy","splice"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAO,aAAP;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BL,QAAQ,CAAC,MAAD,CAA1C;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;;AAEA,WAASU,SAAT,CAAmBC,IAAnB,EAAyB;AACvBF,IAAAA,OAAO,CAAEG,OAAD,IAAa,CAAC,GAAGA,OAAJ,EAAaD,IAAb,CAAd,CAAP;AACD;;AAED,QAAME,SAAS,GAAIL,IAAD,IAAU;AAC1B,UAAMM,UAAU,GAAGN,IAAI,CAACO,MAAL,CAAY,CAACC,OAAD,EAAUL,IAAV,KAAmB;AAChDK,MAAAA,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,GAAmBD,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,IAAoB,EACrC,GAAGN,IADkC;AAErCL,QAAAA,KAAK,EAAE;AAF8B,OAAvC;AAIAU,MAAAA,OAAO,CAACL,IAAI,CAACM,EAAN,CAAP,CAAiBX,KAAjB;AACA,aAAOU,OAAP;AACD,KAPkB,EAOhB,EAPgB,CAAnB;AAQA,WAAOE,MAAM,CAACC,MAAP,CAAcL,UAAd,CAAP;AACD,GAVD;AAYA;;;;;;;;;;;;AAUA,QAAMM,UAAU,GAAG,MAAM;AACvBb,IAAAA,QAAQ,CAACD,KAAK,GAAG,CAAT,CAAR;AACAG,IAAAA,OAAO,CAACD,IAAD,CAAP;AACD,GAHD;;AAKA,QAAMa,SAAS,GAAIV,IAAD,IAAU;AAC1B,QAAIW,KAAK,GAAGX,IAAI,CAACL,KAAjB;;AACA,QAAIgB,KAAK,IAAI,CAAb,EAAgB;AACdb,MAAAA,OAAO,CAAED,IAAD,IAAU;AAChB,cAAMe,QAAQ,GAAG,CAAC,GAAGf,IAAJ,CAAjB;AACAe,QAAAA,QAAQ,CAACC,MAAT,CAAgBb,IAAI,CAACL,KAArB;AACA,eAAOiB,QAAP;AACD,OAJM,CAAP;AAKD;AACF,GATD;AAUA;;;;;;;;;;;;AAUA,sBACE;AAAS,IAAA,SAAS,EAAC,WAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,GAAD;AAAK,IAAA,SAAS,EAAEnB,SAAhB;AAA2B,IAAA,WAAW,EAAEC,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAM,IAAA,SAAS,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,YAAD;AACE,IAAA,GAAG,EAAED,SADP;AAEE,IAAA,WAAW,EAAEM,SAFf;AAGE,IAAA,YAAY,EAAEU,UAHhB;AAIE,IAAA,IAAI,EAAEP,SAAS,CAACL,IAAD,CAJjB;AAKE,IAAA,SAAS,EAAEa,SALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAFF,CADF;AAcD,CAtED;;AAwEA,eAAelB,KAAf","sourcesContent":["import React, { useState } from \"react\";\nimport \"./Store.css\";\nimport Nav from \"./components/Nav\";\nimport StoreContent from \"./StoreContent\";\n\nconst Store = () => {\n  const [activeTab, setActiveTab] = useState(\"shop\");\n  const [count, setCount] = useState([]);\n  const [cart, setCart] = useState([]);\n\n  function addToCart(item) {\n    setCart((oldCart) => [...oldCart, item]);\n  }\n\n  const totalCart = (cart) => {\n    const totalItems = cart.reduce((summary, item) => {\n      summary[item.id] = summary[item.id] || {\n        ...item,\n        count: 0,\n      };\n      summary[item.id].count++;\n      return summary;\n    }, {});\n    return Object.values(totalItems);\n  };\n\n  /*const removeItem = (item) => {\n    let index = cart.findIndex((i) => i.id === item.id);\n    if (index >= 0) {\n      setCart((cart) => {\n        const cartCopy = [...cart];\n        cartCopy.splice(index, 1);\n        return cartCopy;\n      });\n    }\n  };*/\n  const removeItem = () => {\n    setCount(count - 1);\n    setCart(cart);\n  };\n\n  const onTakeOff = (item) => {\n    let goods = item.count;\n    if (goods >= 0) {\n      setCart((cart) => {\n        const cartCopy = [...cart];\n        cartCopy.splice(item.count);\n        return cartCopy;\n      });\n    }\n  };\n  /*const onTakeOff = (item) => {\n    let goods = item.count;\n    if (goods >= 0) {\n      setCart((cart) => {\n        const cartCopy = [...cart];\n        cartCopy.splice(item.count);\n        return cartCopy;\n      });\n    }\n  };*/\n  return (\n    <section className=\"storepage\">\n      <Nav activeTab={activeTab} onTabChange={setActiveTab} />\n      <main className=\"content\">\n        <StoreContent\n          tab={activeTab}\n          onAddToCart={addToCart}\n          onRemoveItem={removeItem}\n          cart={totalCart(cart)}\n          onTakeOff={onTakeOff}\n        />\n      </main>\n    </section>\n  );\n};\n\nexport default Store;\n"]},"metadata":{},"sourceType":"module"}