{"ast":null,"code":"var _jsxFileName = \"/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/src/weather/index.jsx\";\nimport React, { useState } from \"react\";\nimport \"./Weather.css\";\nimport { Input, Form, SingleWeatherCard } from \"./components\";\nimport { API_KEY } from \"./constants\";\n\nfunction WeatherCard() {\n  const initialState = {\n    city: \"\"\n  };\n  const [query, setQuery] = useState(initialState);\n  const [data, setData] = useState({});\n\n  const onChange = event => {\n    setQuery({ ...query,\n      [event.target.id]: event.target.value\n    });\n  };\n\n  const onClick = event => {\n    event.preventDefault();\n    setData(`${data.main.temp}`);\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setData({ ...data,\n      city: query.city,\n      loading: true,\n      error: \"\"\n    });\n    fetch(`${window.location.protocol}//api.openweathermap.org/data/2.5/weather?q=${query.city}&appid=${API_KEY}&units=${query.units}`).then(res => {\n      if (!res.ok) {\n        setData({ ...data,\n          error: res.statusText,\n          loading: false\n        });\n        return;\n      }\n\n      return res.json().then(weatherData => {\n        setData({ ...data,\n          city: query.city,\n          weatherData,\n          loading: false,\n          error: null\n        });\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"weapp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"stormy\",\n    \"aria-label\": \"weather-app\",\n    role: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"\\u26C8\\uFE0F\"), \"Weather App\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"stormy1\",\n    \"aria-label\": \"weather-app\",\n    role: \"img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"\\u26C8\\uFE0F\")), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    id: \"city\",\n    label: \"Choose City\",\n    onChange: onChange,\n    placeholder: \"Insert the city name here\",\n    type: \"text\",\n    city: query.city,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"search\",\n    disabled: data.loading || !query.city,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }, data.loading ? \"Loading...\" : \"Search!\")), data.weatherData && /*#__PURE__*/React.createElement(SingleWeatherCard, {\n    city: query.city,\n    data: data.weatherData,\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }), data.error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lost\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 22\n    }\n  }, JSON.stringify(data.error)));\n}\n\nexport default WeatherCard;","map":{"version":3,"sources":["/Users/ursulakesek/Desktop/Birkbeck finals/UrsulaKesek-module-ii-master/src/weather/index.jsx"],"names":["React","useState","Input","Form","SingleWeatherCard","API_KEY","WeatherCard","initialState","city","query","setQuery","data","setData","onChange","event","target","id","value","onClick","preventDefault","main","temp","onSubmit","loading","error","fetch","window","location","protocol","units","then","res","ok","statusText","json","weatherData","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport \"./Weather.css\";\nimport { Input, Form, SingleWeatherCard } from \"./components\";\nimport { API_KEY } from \"./constants\";\n  \n\nfunction WeatherCard() {\n  const initialState = {\n    city: \"\",\n  };\n  const [query, setQuery] = useState(initialState);\n  const [data, setData] = useState({});\n\n  const onChange = (event) => {\n    setQuery({ ...query, [event.target.id]: event.target.value });\n  };\n  const onClick = (event) => {\n    event.preventDefault();\n    setData(`${data.main.temp}`);\n  };\n  const onSubmit = (event) => {\n    event.preventDefault();\n    setData({ ...data, city: query.city, loading: true, error:\"\"});\n    fetch(\n      `${window.location.protocol}//api.openweathermap.org/data/2.5/weather?q=${query.city}&appid=${API_KEY}&units=${query.units}`\n    ).then((res) => {\n      if (!res.ok) {\n        setData({ ...data, error: res.statusText, loading: false });\n        return;\n      }\n      return res.json().then((weatherData) => {\n        setData({\n          ...data,\n          city: query.city,\n          weatherData,\n          loading: false,\n          error:null,\n        });\n      });\n    });\n  };\n  return (\n    <div className=\"weapp\">\n      <h2>\n        <span className=\"stormy\" aria-label=\"weather-app\" role=\"img\">\n          ⛈️\n        </span>\n        Weather App\n        <span className=\"stormy1\" aria-label=\"weather-app\" role=\"img\">\n          ⛈️\n        </span>\n      </h2>\n      <Form onSubmit={onSubmit}>\n        <Input\n          id=\"city\"\n          label=\"Choose City\"\n          onChange={onChange}\n          placeholder=\"Insert the city name here\"\n          type=\"text\"\n          city={query.city}\n        />\n        <button className=\"search\" disabled={data.loading || !query.city}>\n          {data.loading ? \"Loading...\" : \"Search!\"}\n        </button>\n      </Form>\n      {data.weatherData && (\n        <SingleWeatherCard\n          city={query.city}\n          data={data.weatherData}\n          onClick={onClick}\n        />\n      )}\n      {data.error && <div className=\"lost\">{JSON.stringify(data.error)}</div>}\n    </div>\n  );\n}\n\nexport default WeatherCard;\n"]},"metadata":{},"sourceType":"module"}